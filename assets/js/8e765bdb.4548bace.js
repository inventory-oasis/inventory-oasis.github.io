"use strict";(self.webpackChunkinventory_oasis_github_io=self.webpackChunkinventory_oasis_github_io||[]).push([[942],{9613:(t,e,n)=>{n.d(e,{Zo:()=>p,kt:()=>c});var a=n(9496);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var m=a.createContext({}),d=function(t){var e=a.useContext(m),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},p=function(t){var e=d(t.components);return a.createElement(m.Provider,{value:e},t.children)},s="mdxType",u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},h=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,m=t.parentName,p=l(t,["components","mdxType","originalType","parentName"]),s=d(n),h=r,c=s["".concat(m,".").concat(h)]||s[h]||u[h]||i;return n?a.createElement(c,o(o({ref:e},p),{},{components:n})):a.createElement(c,o({ref:e},p))}));function c(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,o=new Array(i);o[0]=h;var l={};for(var m in e)hasOwnProperty.call(e,m)&&(l[m]=e[m]);l.originalType=t,l[s]="string"==typeof t?t:r,o[1]=l;for(var d=2;d<i;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},7489:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>m,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var a=n(1163),r=(n(9496),n(9613));const i={sidebar_label:"Inventory Component",sidebar_position:2},o="Inventory Component",l={unversionedId:"inv-component",id:"inv-component",title:"Inventory Component",description:"This is a script that can be attached to any node and it turns it into a component.",source:"@site/docs/inv-component.md",sourceDirName:".",slug:"/inv-component",permalink:"/docs/inv-component",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_label:"Inventory Component",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/docs/intro"},next:{title:"Base Item",permalink:"/docs/base-item"}},m={},d=[{value:"Properties",id:"properties",level:2},{value:"Methods",id:"methods",level:2},{value:"Property Descriptions",id:"property-descriptions",level:2},{value:"<em>String inv_name = &quot;Name&quot;</em>",id:"prop-inv-name",level:3},{value:"<em>int inv_slots = 5</em>",id:"prop-inv-slots",level:3},{value:"<em>ArrayInvSlotStruct <strong>start_items</strong></em>",id:"prop-inv-start-items",level:3},{value:"<em>ArrayInvSlotStruct inv_item_list</em>",id:"prop-inv-item-list",level:3},{value:"<em>InvWindow window_ref = null</em>",id:"prop-window-ref",level:3},{value:"<em>ArrayInventoryComponent joined_invs</em>",id:"prop-joined-invs",level:3},{value:"<em>Object interactor = null</em>",id:"prop-interactor",level:3},{value:"Method Descriptions",id:"method-descriptions",level:2},{value:"<em>bool add_to_inv ( BaseItem struct, int amount )</em>",id:"bool-add_to_inv--baseitem-struct-int-amount-",level:3},{value:"<em>Arraybool, int inv_query ( String item_name, int item_amount )</em>",id:"arraybool-int-inv_query--string-item_name-int-item_amount-",level:3},{value:"<em>bool inv_remove_by_name ( String item_name, int item_amount )</em>",id:"bool-inv_remove_by_name--string-item_name-int-item_amount-",level:3},{value:"<em>void use_item_at_slot ( int index )</em>",id:"void-use_item_at_slot--int-index-",level:3},{value:"<em>void refresh_slot_at_index ( int index )</em>",id:"void-refresh_slot_at_index--int-index-",level:3},{value:"<em>void swap_items_by_ref  ( InvSlotStruct from_ref, InvSlotStrcut to_ref )</em>",id:"void-swap_items_by_ref---invslotstruct-from_ref-invslotstrcut-to_ref-",level:3}],p={toc:d},s="wrapper";function u(t){let{components:e,...i}=t;return(0,r.kt)(s,(0,a.Z)({},p,i,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"inventory-component"},"Inventory Component"),(0,r.kt)("p",null,"This is a script that can be attached to any node and it turns it into a component.\nThis component can be a child of any scene ",(0,r.kt)("em",{parentName:"p"},"(Player, Chest, etc...)")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Screenshot of the component in a scene",src:n(3218).Z,width:"311",height:"111"})),(0,r.kt)("p",null,"You can modify some of the properties of the ",(0,r.kt)("strong",{parentName:"p"},"Inventory Component")," right in the inspector!"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Screenshot of the component properties in the inspector",src:n(5684).Z,width:"521",height:"391"})),(0,r.kt)("h2",{id:"properties"},"Properties"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"String"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#prop-inv-name"},"inv_name")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"Name"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#prop-inv-slots"},"inv_slots")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"5"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Array","[InvSlotStruct]"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#prop-inv-start-items"},"start_items")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Array","[InvSlotStruct]"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#prop-inv-item-list"},"inv_item_list")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"InvWindow"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#prop-window-ref"},"window_ref")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"null"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Array","[InventoryComponent]"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#prop-joined-invs"},"joined_invs")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Object"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#prop-interactor"},"interactor")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"null"))))),(0,r.kt)("h2",{id:"methods"},"Methods"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"bool"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"add_to_inv")," ( ",(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"BaseItem")," struct, ",(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"int")," amount )")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Array","[bool, int]"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"inv_query")," ( ",(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"String")," item_name, ",(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"int")," item_amount )")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"bool"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"inv_remove_by_name")," ( ",(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"String")," item_name, ",(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"int")," item_amount )")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"void"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"use_item_at_slot")," ( ",(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"int")," index )")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"void"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"refresh_slot_at_index")," ( ",(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"int")," index )")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"void"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"swap_items_by_ref")," ( ",(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"InvSlotStruct")," from_ref, ",(0,r.kt)("a",{parentName:"td",href:"#heading-id"},"InvSlotStruct")," to_ref )")))),(0,r.kt)("h2",{id:"property-descriptions"},"Property Descriptions"),(0,r.kt)("h3",{id:"prop-inv-name"},(0,r.kt)("em",{parentName:"h3"},'String inv_name = "Name"')),(0,r.kt)("p",null,"This is used for the name when creating an Inventory Window. Not required, can be left empty or unmodified."),(0,r.kt)("h3",{id:"prop-inv-slots"},(0,r.kt)("em",{parentName:"h3"},"int inv_slots = 5")),(0,r.kt)("p",null,"How many slots an Inventory has."),(0,r.kt)("h3",{id:"prop-inv-start-items"},(0,r.kt)("em",{parentName:"h3"},"Array","[InvSlotStruct]"," ",(0,r.kt)("strong",{parentName:"em"},"start_items"))),(0,r.kt)("p",null,"You can add them through the inspector. These items will be added to the Inventory Component on the start of the game."),(0,r.kt)("h3",{id:"prop-inv-item-list"},(0,r.kt)("em",{parentName:"h3"},"Array","[InvSlotStruct]"," inv_item_list")),(0,r.kt)("p",null,"This Array holds the data to all your items. Many nodes thoughout the system use this array to show the needed data."),(0,r.kt)("h3",{id:"prop-window-ref"},(0,r.kt)("em",{parentName:"h3"},"InvWindow window_ref = null")),(0,r.kt)("p",null,"When spawning an Inventory Window, you should set the ",(0,r.kt)("inlineCode",{parentName:"p"},"window_ref")," to the Window. When you destroy the Window, you should set this to null. Used in the ",(0,r.kt)("inlineCode",{parentName:"p"},"refresh_slot_at_index")," function, because the ",(0,r.kt)("inlineCode",{parentName:"p"},"InvWindow")," has access to every slot, and when using a slot we need to update it."),(0,r.kt)("h3",{id:"prop-joined-invs"},(0,r.kt)("em",{parentName:"h3"},"Array","[InventoryComponent]"," joined_invs")),(0,r.kt)("p",null,"You can join inventories together, example: hotbar with backpack. This way when you call function such as ",(0,r.kt)("inlineCode",{parentName:"p"},"inv_query")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"add_to_inv"),", it will check the inventory component the function is called from, and all the ",(0,r.kt)("strong",{parentName:"p"},"joined_invs")," in it."),(0,r.kt)("h3",{id:"prop-interactor"},(0,r.kt)("em",{parentName:"h3"},"Object interactor = null")),(0,r.kt)("p",null,"Every inventory should have an interactor while it is being used/opened. That way the items, when used can call functions directly on the interactor. Example: a chest with inventory component has no interactor until a player opens it. When a player opens the chest, the interactor of the inventory component on the chest should be set to the Player. If the chest has an apple and we decide to eat it, the apple has access to the interactor and can check if the interactor has an function called ",(0,r.kt)("inlineCode",{parentName:"p"},"update_health")," and if it has it, it will call it."),(0,r.kt)("h2",{id:"method-descriptions"},"Method Descriptions"),(0,r.kt)("h3",{id:"bool-add_to_inv--baseitem-struct-int-amount-"},(0,r.kt)("em",{parentName:"h3"},"bool add_to_inv ( BaseItem struct, int amount )")),(0,r.kt)("p",null,"Adds an item with the specified amount to the inventory. If successful returns true, else false. Can return false if the inventory is already full."),(0,r.kt)("h3",{id:"arraybool-int-inv_query--string-item_name-int-item_amount-"},(0,r.kt)("em",{parentName:"h3"},"Array","[bool, int]"," inv_query ( String item_name, int item_amount )")),(0,r.kt)("p",null,"Returns if the inventory has enough of an item, and how much is the total amount."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-gdscript"},'var query = inv_query("Item1", 2)\nquery[0] # -> bool, is the query successful\nquery[1] # -> int, total amount of this item in inv\n')),(0,r.kt)("h3",{id:"bool-inv_remove_by_name--string-item_name-int-item_amount-"},(0,r.kt)("em",{parentName:"h3"},"bool inv_remove_by_name ( String item_name, int item_amount )")),(0,r.kt)("p",null,"Removes an item from the Inventory by a name"),(0,r.kt)("h3",{id:"void-use_item_at_slot--int-index-"},(0,r.kt)("em",{parentName:"h3"},"void use_item_at_slot ( int index )")),(0,r.kt)("p",null,"Calls the ",(0,r.kt)("inlineCode",{parentName:"p"},"i_use()")," function of an item at the specified index, if the item is consumable, substracts it by 1"),(0,r.kt)("h3",{id:"void-refresh_slot_at_index--int-index-"},(0,r.kt)("em",{parentName:"h3"},"void refresh_slot_at_index ( int index )")),(0,r.kt)("p",null,"Usually called by the ",(0,r.kt)("inlineCode",{parentName:"p"},"InvSlot"),", when using an item, it needs to be updated."),(0,r.kt)("h3",{id:"void-swap_items_by_ref---invslotstruct-from_ref-invslotstrcut-to_ref-"},(0,r.kt)("em",{parentName:"h3"},"void swap_items_by_ref  ( InvSlotStruct from_ref, InvSlotStrcut to_ref )")),(0,r.kt)("p",null,"Used in drag and drop. Swaps two items. If you use this function, you should call ",(0,r.kt)("inlineCode",{parentName:"p"},"refresh_slot_at_index()")," after it."))}u.isMDXComponent=!0},3218:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/inv_comp_in_scene-af0f767c22ea543c7518cb9d76b28885.png"},5684:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/inv_comp_inspector-a0217a5b643ea22b2706eb4f2197aea8.png"}}]);